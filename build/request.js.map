{"version":3,"sources":["request.js"],"names":["buildRequestUrl","city","deg","url","query","getCityWoeid","setDegree","format","searchWeather","typedCity","callback","fetch","then","r","ok","json","Error","data","console","log"],"mappings":"AAAA;AACA,MAAMA,kBAAkB,CAACC,IAAD,EAAOC,GAAP,KAAe;AACrC,MAAIC,MAAM,8CAAV;AAAA,MACIC,QAAQ,gDADZ;AAAA,MAEIC,eAAe,kDAAiDJ,IAAjD,GAAuD,IAF1E;AAAA,MAGIK,YAAaJ,QAAQ,SAAT,GAAsB,YAAtB,GAAsCA,QAAQ,YAAT,GAAyB,YAAzB,GAAwC,YAH7F;AAAA,MAIIK,SAAS,mEAJb;AAKA,SAAOJ,MAAMC,KAAN,GAAcC,YAAd,GAA6BC,SAA7B,GAAyCC,MAAhD;AACD,CAPD;;AASA,OAAO,MAAMC,gBAAgB,CAACC,SAAD,EAAYP,GAAZ,EAAiBQ,QAAjB,KAA8B;AACzDC,QAAMX,gBAAgBS,SAAhB,EAA2BP,GAA3B,CAAN,EACGU,IADH,CACSC,CAAD,IAAO;AACX,QAAGA,EAAEC,EAAL,EAAS,OAAOD,EAAEE,IAAF,EAAP;AACT,UAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACE,GAJN,EAKKJ,IALL,CAKWK,IAAD,IAAU;AACdC,YAAQC,GAAR,CAAYF,IAAZ;AACEP,aAASO,IAAT,EAAeR,SAAf;AACD,GARP;AASM;AACA;AACA;AACP,CAbM","file":"request.js","sourcesContent":["//request\r\nconst buildRequestUrl = (city, deg) => {\r\n  let url = \"https://query.yahooapis.com/v1/public/yql?q=\",\r\n      query = \"select * from weather.forecast where woeid in \",\r\n      getCityWoeid = '(select woeid from geo.places(1) where text=\"'+ city +'\")',\r\n      setDegree = (deg === \"celsius\") ? ' and u=\"c\"' : (deg === \"fahrenheit\") ? ' and u=\"f\"' : ' and u=\"c\"', \r\n      format = \"&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\";\r\n  return url + query + getCityWoeid + setDegree + format;\r\n};\r\n\r\nexport const searchWeather = (typedCity, deg, callback) => {\r\n  fetch(buildRequestUrl(typedCity, deg))\r\n    .then((r) => { \r\n      if(r.ok) return r.json();\r\n      throw new Error('Network response was not ok.');\r\n       })\r\n      .then((data) => {\r\n        console.log(data);\r\n          callback(data, typedCity);\r\n        });\r\n        // .catch(function(error) {\r\n        //   console.log('There has been a problem with your fetch operation: ' + error.message);\r\n        // });\r\n};"]}